# TIMSDK

## 最新版本 4.2.52 @2019.04.17

**新功能**

- 补齐老版本 SDK 的好友黑名单功能，好友分组功能，以及加好友请求处理等关系链功能。

**iOS平台**
- 优化 API 接口注释
- 修复群自定义字段和群成员自定义字段不生效的问题
- 优化 TIMMessage 获取 senderProfile 拿不到用户资料信息的问题
- 修复已读回执回调及状态问题
- 修复同步未读消息最新一条消息不回调问题
- 修复群消息偶尔收不到问题
- 修复login回包无法解密问题
- 增加ip连接和login信息统计上报
- 修复消息seq错误

**Android平台**
- 修复android的jni泄漏
- 修复群组成员角色错误问题
- 修复退群在加群后，群组消息撤回崩溃问题
- 修复TUIKit Demo表情不显示问题
- 修复群聊会话获取消息，第二页大概率获取重复消息问题
- 修复TUIKit Demo中的部分crash问题
- 优化 TIMMessage 获取 senderProfile 拿不到用户资料信息的问题
- 修复已读回执回调及状态问题
- 修复同步未读消息最新一条消息不回调问题
- 修复群消息偶尔收不到问题
- 修复login回包无法解密问题
- 增加ip连接和login信息统计上报
- 修复消息seq错误

**Windows平台**
- 优化 TIMMessage 获取 senderProfile 拿不到用户资料信息的问题
- 修复已读回执回调及状态问题
- 修复同步未读消息最新一条消息不回调问题
- 修复群消息偶尔收不到问题
- 修复login回包无法解密问题
- 增加ip连接和login信息统计上报
- 修复消息seq错误



## 4.2.28 @2019.04.08

### iOS：

**bugfix：**

- 优化未读计数相关的问题
- 优化消息已读状态的问题
- 优化RESTAPI发的C2C消息排序异常的问题
- 优化获取漫游消息偶现重复的问题
- 优化uniqueId空实现的问题

### Android：

**新增：**

- 新增好友增/删/查逻辑


**bugfix：**

- 优化未读计数相关的问题

- 优化消息已读状态的问题
- 优化RESTAPI发的C2C消息排序异常的问题
- 优化获取漫游消息偶现重复的问题
- 优化uniqueId空实现的问题

### Windows：

**bugfix：**

- 优化未读计数相关的问题
- 优化消息已读状态的问题
- 优化RESTAPI发的C2C消息排序异常的问题
- 优化获取漫游消息偶现重复的问题

## 4.2.10 @2019.03.29

### iOS：
**新增：**

-    新增好友增/删/查逻辑


**bugfix：**

  - 优化超时问题
  - 优化自动登录逻辑
  - 优化crash问题
  - 优化偶现网络连接异常bug

### Android：

**bugfix：**

 - 优化超时问题
 - 优化自动登录逻辑
 - 优化JNI泄漏问题
 - 优化crash问题
 - 优化偶现网络连接异常bug

### Windows：

**bugfix：**

  - 优化超时问题
  - 优化crash问题
  - 优化偶现网络连接异常bug

## 4.2.9 @2019.03.27

### iOS & Mac：

**bugfix：**

- 修复ipv6环境下crash的问题
- 修复资料设置整数失败的问题

### Android：

**bugfix：**

- 修复资料设置整数失败的问题

## 4.2.1 @2019.03.15

### iOS:

- 调整项 优化后台解散群组, 客户端收不到相应指令的问题
- 修复项 调用 deleteConversationAndMessage() 无效
- 修复项 优化网络重新连接后收不到消息的问题 (现在网络重新连接后可以在会话界面主动请求拉取消息了)

### Android:

- 修复项 群组获取未决和已决信息返回不正确
- 修复项 客户端进入后台 Crash (现在 APP 进入后台不会直接 Crash 了)
- 修复项 优化网络重新连接后收不到消息的问题 (现在网络重新连接后可以在会话界面主动请求拉取消息了)
- 修复项 偶现消息排序错误
- 修复项 偶现消息发送失败

### WEB:

- 新增项 WEBIM 现已支持播放 .amr 的录音格式

### Windows:

- 新增项 /source-charset:.65001 编译选项
- 修复项 在文件系统直接运行 IMAPP.exe Crash 问题
- 修复项 部分编译出错, 以及 Crash 问题
- 移除项 X64 编译 (暂不支持)

## 4.0.13 @2019.03.13

### Android:

- 修复项 从 3.x 升级到 4.x 版本后登陆引起 Crash 的问题

### iOS:

- 新增项 支持 pod 直接集成 TUIKit.framework
- 修复项 从 3.x 升级到 4.x 版本后登陆引起 Crash 的问题

### Windows:

- 新增项 以 duilib 库为 UI 组件的 IM Demo
- 新增项 使用说明及相关集成指引文档

## 4.0.12 @2019.03.08
### Android:

- 修复项 群组禁言无效问题
- 修复项 修改用户群内身份功能
- 修复项 修改群消息接收选项
- 修复项 离线推送开关无效问题

### iOS:

- 新增项 TUIKit.framework 支持 bitcode 2
- 修复项 群组禁言无效问题
- 修复项 修改用户群内身份功能


## 4.0.10版本(Android端)

- 修复AVChatRoom进入房间超过100人之后收消息异常的问题

## 4.0.7版本

- 修复新老版本语音，文件，视频消息互通的问题
- 解决-5 tls exchange failed 卸载应用重新安装才能登录成功

## 4.0.6版本

- 解决userSig过期后重签仍然登陆失败问题

## 4.0.4版本

- 解决userSig过期后再次登录返回错误码不正确问题，应该返回6206；优化互踢逻辑

## 4.0.3版本

- 修复第三方离线推送问题
