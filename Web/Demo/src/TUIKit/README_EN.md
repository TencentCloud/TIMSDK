English | [简体中文](./readme.md)

## Introduction to TUIKit

The TUIKit is a set of UI components based on IM SDKs. It provides features such as management of conversations, chats, groups, and profiles. With these TUIKit components, you can quickly build your own business logic.

![](https://web.sdk.qcloud.com/im/demo/TUIkit/document-image/intl/component1.png)

![](https://web.sdk.qcloud.com/im/demo/TUIkit/document-image/intl/component2.png)

![](https://web.sdk.qcloud.com/im/demo/TUIkit/document-image/intl/component3.png)

## TUIKit integration

### Environment requirements

- vue3
- TypeScript
- sass (sass-loader version <= 10.1.1)

### Quick build

Instant messaging software usually consists of several basic UIs such as the conversation list, chat window, group management, and profile. It takes only a few lines of code to build these UIs in your project as follows:

### Step 1. Create a project with vue-cli: vue3 + TypeScript + sass

![](https://web.sdk.qcloud.com/im/demo/TUIkit/document-image/createProject.png)

> Note:
> 
> If sass/scss has not been installed when you create the project, you can install sass + sass-loader after the project is downloaded.
> 
> ```shell
> cd projectName  // Go to your project
> yarn add sass sass-loader@10.1.1
> ```

### Step 2. Download TUIKit

Download the TUIKit source code from [GitHub](https://github.com/tencentyun/TIMSDK/tree/master/Web), and place the TUIKit folder in your project folder as shown:

![](https://web.sdk.qcloud.com/im/demo/TUIkit/document-image/integrate.png)

### Step 3. Generate `UseSig`

1. Download the `GenerateTestUserSig` package from [GitHub](https://github.com/tencentyun/TIMSDK/tree/master/Web/Demo), and place it in your project folder as shown: 
    ![](https://web.sdk.qcloud.com/im/demo/TUIkit/document-image/userSig-catalogue.png)

2. Set required parameters in the `GenerateTestUserSig` file, where `SDKAppID` and `Key` can be obtained in the [IM console](https://console.cloud.tencent.com/im). Click the card of the target app to go to its basic configuration page.  
   ![](https://web.sdk.qcloud.com/im/demo/TUIkit/document-image/intl/control.png)

3. In the **Basic Information** area, click **Display key**, and copy and save the key information to the `GenerateTestUserSig` file. 
   ![](https://web.sdk.qcloud.com/im/demo/TUIkit/document-image/intl/useSig.png)

> Note:
> 
> In this document, the method to obtain `UserSig` is to configure a `SECRETKEY` in the client code. In this method, the `SECRETKEY` is vulnerable to decompilation and reverse engineering. Once your `SECRETKEY` is disclosed, attackers can steal your Tencent Cloud traffic. Therefore, **this method is only suitable for locally running a demo project and feature debugging**. The correct `UserSig` distribution method is to integrate the calculation code of `UserSig` into your server and provide an application-oriented API. When `UserSig` is needed, your application can send a request to the business server for a dynamic `UserSig`. For more information, see the "Calculating UserSig on the Server" section of [Generating UserSig](https://cloud.tencent.com/document/product/269/32688#GeneratingdynamicUserSig).

### Step 4. Download required dependencies of TUIKit components

```shell
cd src/TUIKit
yarn install
```

### Step 5. Import TUIKit in `main.ts` and register it to the Vue project instance.

```typescript
import { createApp } from 'vue'
import App from './App.vue'

import { TUICore, TUIComponents } from "./TUIKit";
import { genTestUserSig } from "../debug";

const config = {
  SDKAppID: 0, // Replace 0 with the SDKAppID of your IM application when connecting. Value type: Number
};
// init TUIKit
const TUIKit = TUICore.init(config);

// TUIKit add TUIComponents
TUIKit.use(TUIComponents);

const userID = 'xxxx'; // User ID
const userInfo = {
  userID: userID,
  userSig: genTestUserSig(userID).userSig, // The password with which the user logs in to IM. It is the ciphertext generated by encrypting information such as userID.For the detailed generation method, see Generating UserSig
};
// login TUIKit
TUIKit.login(userInfo);

// register
createApp(App).use(TUIKit).mount('#app')
```

> Note:
> 
> Here the `SDKAppID` needs to be identical with the `SDKAppID` in the `GenerateTestUserSig` file.

### Step 6. Call the TUIKit components on the target page.

### For example, on the `App.vue` page, you can call `TUIConversation` and `TUIChat` to build a chat interface.

```html
<template>
  <div class="home-TUIKit-main">
    <div class="conversation">
      <TUIConversation />
    </div>
    <div class="chat">
      <TUIChat>
        <h1>Welcome to IM</h1>
      </TUIChat>
    </div>
  </div>
</template>

<style scoped>
.home-TUIKit-main {
  display: flex;
  height: 800px;
}
.conversation {
  min-width: 285px;
  flex: 0 0 24%;
  border-right: 1px solid #f4f5f9;
}
.chat {
  flex: 1;
  height: 100%;
  position: relative;
}
</style>
```

### Step 7. Launch the project

```shell
yarn serve
```

## FAQs

### 1. How can I generate a `UserSig`?

The correct `UserSig` distribution method is to integrate the calculation code of `UserSig` into your server and provide a project-oriented API. When `UserSig` is needed, your project can send a request to the business server for a dynamic `UserSig`. For more information, see "Calculating UserSig on the Server" section of [Generating UserSig](https://cloud.tencent.com/document/product/269/32688#GeneratingdynamicUserSig).

### 2. Module not found: Error: Can't resolve 'sass-loader'

The IM TUIKit web depends on `sass`, so you need to install `sass` and `sass-loader` at the global level of the project.

Here the sass-loader version should be <=10.1.1.

```shell
yarn add sass sass-loader@10.1.1
```
