<template name="320c5ddd"><view class="_div data-v-71681a0a chat" id="chat" bindlongpress="handleProxy" bindtouchmove="handleProxy" bindtouchend="handleProxy" data-eventid="{{'27'}}" data-comkey="{{$k}}" style=" {{('padding-bottom:' + (isIpx ? safeBottom + 40 + 'px' : '40px') + ';')}}"><view class="_div data-v-71681a0a nav" bindtap="handleProxy" data-eventid="{{'0'}}" data-comkey="{{$k}}">
      æŸ¥çœ‹èµ„æ–™
    </view> <view class="_div data-v-71681a0a record-modal {{isRecording ? '' : 'modal-display'}}"><view class="_div data-v-71681a0a wrapper"><view class="_div data-v-71681a0a modal-loading"></view></view> <view class="_div data-v-71681a0a modal-title">
        {{title}}
      </view></view> <i-modal title="ç¡®è®¤ä¸‹è½½ï¼Ÿ" visible="{{modalVisible}}" bindok="handleProxy" sv-on:cancel="handleModalShow" data-eventid="{{'1'}}" data-comkey="{{$k}}" class="_i-modal data-v-71681a0a"><view class="_div data-v-71681a0a input-wrapper">
        è¿›åº¦{{percent}}%
      </view></i-modal> <i-modal title="å‘é€è‡ªå®šä¹‰æ¶ˆæ¯" i-class="custom-modal" visible="{{customModalVisible}}" bindok="handleProxy" bindcancel="handleProxy" data-eventid="{{'5'}}" data-comkey="{{$k}}" class="_i-modal data-v-71681a0a"><view class="_div data-v-71681a0a custom-wrapper"><input type="text" class="_input data-v-71681a0a custom-input" placeholder="è¾“å…¥æ•°æ®" value="{{customData}}" bindinput="handleProxy" data-eventid="{{'2'}}" data-comkey="{{$k}}" /> <input type="text" class="_input data-v-71681a0a custom-input" placeholder="è¾“å…¥æè¿°" value="{{customDescription}}" bindinput="handleProxy" data-eventid="{{'3'}}" data-comkey="{{$k}}" /> <input type="text" class="_input data-v-71681a0a custom-input" placeholder="è¾“å…¥å…¶ä»–" value="{{customExtension}}" bindinput="handleProxy" data-eventid="{{'4'}}" data-comkey="{{$k}}" /></view></i-modal> <i-modal title="å¯¹IM demoçš„è¯„åˆ†å’Œè¯„ä»·" i-class="custom-modal" visible="{{rateModal}}" bindok="handleProxy" bindcancel="handleProxy" data-eventid="{{'8'}}" data-comkey="{{$k}}" class="_i-modal data-v-71681a0a"><view class="_div data-v-71681a0a custom-wrapper"><i-rate bindchange="handleProxy" value="{{rate}}" data-eventid="{{'6'}}" data-comkey="{{$k}}" class="_i-rate data-v-71681a0a"></i-rate> <input type="text" class="_input data-v-71681a0a custom-input" placeholder="è¾“å…¥è¯„ä»·" value="{{customExtension}}" bindinput="handleProxy" data-eventid="{{'7'}}" data-comkey="{{$k}}" /></view></i-modal> <view id="list" bindtap="handleProxy" data-eventid="{{'14'}}" data-comkey="{{$k}}" class="_div data-v-71681a0a"><view wx:key="message.ID" key="{{message.ID}}" id="{{message.ID}}" wx:for="{{currentMessageList}}" wx:for-index="index" wx:for-item="message" class="_li data-v-71681a0a"><view class="_div data-v-71681a0a notice" wx:if="{{message.type === 'TIMGroupTipElem' || message.type === 'TIMGroupSystemNoticeElem'}}"><view class="_div data-v-71681a0a content"><label wx:key="message.ID + index1" key="{{message.ID + index1}}" wx:for="{{message.virtualDom}}" wx:for-index="index1" wx:for-item="div" class="_span data-v-71681a0a"><label wx:if="{{div.name === 'groupTip' || 'system'}}" class="_span data-v-71681a0a">{{div.text}}</label></label></view></view><view wx:else class="_div data-v-71681a0a {{(message.flow === 'out') ? 'item-right' : 'item-left'}}"><view class="_div data-v-71681a0a load" bindtap="handleProxy" data-eventid="{{'9_'+index}}" data-comkey="{{$k}}"><view class="_div data-v-71681a0a {{message.status}}"></view></view> <view class="_div data-v-71681a0a content"><view class="_div data-v-71681a0a name">
              {{message.nick || message.from}}
            </view> <view class="_div data-v-71681a0a message" wx:if="{{message.type === 'TIMTextElem'}}"><view class="_div data-v-71681a0a text-message"><label wx:key="message.ID + index2" key="{{message.ID + index2}}" wx:for="{{message.virtualDom}}" wx:for-index="index2" wx:for-item="div" class="_span data-v-71681a0a"><label wx:if="{{div.name === 'span'}}" class="_span data-v-71681a0a">{{div.text}}</label> <image wx:if="{{div.name === 'img'}}" src="{{div.src}}" style="width:20px;height:20px;" class="_image data-v-71681a0a"></image></label></view></view><view class="_div data-v-71681a0a message" wx:elif="{{message.type === 'TIMImageElem'}}" bindtap="handleProxy" data-eventid="{{'10_'+index}}" data-comkey="{{$k}}"><image class="_image data-v-71681a0a img" src="{{message.payload.imageInfoArray[1].url}}" mode="aspectFit" style="max-width:200px;height:150px"></image></view><view class="_div data-v-71681a0a message" wx:elif="{{message.type === 'TIMFileElem'}}"><view class="_div data-v-71681a0a file" bindtap="handleProxy" data-eventid="{{'11_'+index}}" data-comkey="{{$k}}"><i-avatar src="../../../static/images/file.png" size="large" shape="square" class="_i-avatar data-v-71681a0a"></i-avatar> <view class="_div data-v-71681a0a">{{message.payload.fileName}}</view></view></view><view class="_div data-v-71681a0a message" wx:elif="{{message.type === 'TIMCustomElem'}}"><view wx:if="{{message.payload.data === 'survey'}}" class="_div data-v-71681a0a survey"><view class="_div data-v-71681a0a title">
                  å¯¹IM DEMOçš„è¯„åˆ†å’Œå»ºè®®
                </view> <view class="_div data-v-71681a0a description"><i-rate disabled="true" value="{{message.payload.description}}" class="_i-rate data-v-71681a0a"></i-rate></view> <view class="_div data-v-71681a0a suggestion"><view class="_div data-v-71681a0a">{{message.payload.extension}}</view></view></view><view wx:elif="{{message.payload.data === 'group_create'}}" class="_div data-v-71681a0a"><view class="_div data-v-71681a0a">{{message.payload.extension}}</view></view><view wx:elif="{{message.virtualDom[0].name === 'videoCall'}}" class="_div data-v-71681a0a custom-elem"><view class="_div data-v-71681a0a">{{message.virtualDom[0].text}}</view></view><view wx:else class="_div data-v-71681a0a custom-elem">è‡ªå®šä¹‰æ¶ˆæ¯</view></view><view class="_div data-v-71681a0a message" wx:elif="{{message.type === 'TIMSoundElem'}}" url="{{message.payload.url}}"><view class="_div data-v-71681a0a box" bindtap="handleProxy" data-eventid="{{'12_'+index}}" data-comkey="{{$k}}"><image src="/static/images/audio.png" style="height:20px;width:14px" class="_image data-v-71681a0a"></image> <view style="padding-left: 10px" class="_div data-v-71681a0a">{{message.payload.second}}s</view></view></view><view class="_div data-v-71681a0a message" wx:elif="{{message.type === 'TIMFaceElem'}}"><view class="_div data-v-71681a0a custom-elem"><image src="{{message.payload.data[4] === '@' ? faceUrl + message.payload.data + '.png' : faceUrl + message.payload.data + '@2x.png'}}" style="height:90px; width:90px" class="_image data-v-71681a0a"></image></view></view><view class="_div data-v-71681a0a message" wx:elif="{{message.type === 'TIMVideoFileElem'}}"><video src="{{message.payload.videoUrl}}" class="_video data-v-71681a0a video" poster="{{message.payload.thumbUrl === '' ? 'https://webim-1252463788.file.myqcloud.com/assets/images/video-poster.png' : message.payload.thumbUrl}}" object-fit="contain" binderror="handleProxy" data-eventid="{{'13_'+index}}" data-comkey="{{$k}}"></video></view></view> <view class="_div data-v-71681a0a avatar"><i-avatar src="{{message.avatar || '../../../static/images/header.png'}}" shape="square" class="_i-avatar data-v-71681a0a"></i-avatar></view></view></view></view> <view class="_div data-v-71681a0a bottom" style=" {{('padding-bottom:' + (isIpx ? safeBottom + 'px' : '') + ';')}}"><view class="_div data-v-71681a0a bottom-div"><view class="_div data-v-71681a0a btn" bindtap="handleProxy" data-eventid="{{'15'}}" data-comkey="{{$k}}"><image src="/static/images/record.png" class="_image data-v-71681a0a btn-small"></image></view> <view wx:if="{{!isRecord}}" style="width: 80%" class="_div data-v-71681a0a"><input type="text" class="_input data-v-71681a0a input" value="{{messageContent}}" bindinput="handleProxy" confirm-type="send" focus="{{isFocus}}" bindconfirm="handleProxy" data-eventid="{{'16'}}" data-comkey="{{$k}}" /></view> <view class="_div data-v-71681a0a record" id="record" wx:if="{{isRecord}}"><block wx:if="{{!isRecording}}">
            é•¿æŒ‰è¿›è¡Œå½•éŸ³
          </block> <block wx:if="{{isRecording}}">
            æŠ¬èµ·åœæ­¢å½•éŸ³
          </block></view> <view class="_div data-v-71681a0a btn" bindtap="handleProxy" data-eventid="{{'17'}}" data-comkey="{{$k}}"><image src="/static/images/emoji.png" class="_image data-v-71681a0a btn-small"></image></view> <view class="_div data-v-71681a0a btn" bindtap="handleProxy" data-eventid="{{'18'}}" data-comkey="{{$k}}"><image src="/static/images/plus.png" class="_image data-v-71681a0a btn-small"></image></view></view> <view class="_div data-v-71681a0a bottom-emoji" wx:if="{{isEmojiOpen}}"><view class="_div data-v-71681a0a emojis"><view class="_div data-v-71681a0a emoji" wx:key="emojiItem" key="{{emojiItem}}" bindtap="handleProxy" data-eventid="{{'19_'+index3}}" data-comkey="{{$k}}" wx:for="{{emojiName}}" wx:for-index="index3" wx:for-item="emojiItem"><image src="{{emojiUrl + emojiMap[emojiItem]}}" style="width:25px;height:25px" class="_image data-v-71681a0a"></image></view></view> <view class="_div data-v-71681a0a emoji-tab"><i-row class="_i-row data-v-71681a0a"><i-col span="21" class="_i-col data-v-71681a0a"><view style="line-height: 26px" class="_div data-v-71681a0a">
                ğŸ˜„
              </view></i-col> <i-col span="3" class="_i-col data-v-71681a0a"><view class="_div data-v-71681a0a sending" bindtap="handleProxy" data-eventid="{{'20'}}" data-comkey="{{$k}}">å‘é€</view></i-col></i-row></view></view> <view class="_div data-v-71681a0a bottom-image" wx:if="{{isMoreOpen}}"><view class="_div data-v-71681a0a images"><view class="_div data-v-71681a0a block" bindtap="handleProxy" data-eventid="{{'21'}}" data-comkey="{{$k}}"><view class="_div data-v-71681a0a image"><image src="/static/images/image.png" class="_image data-v-71681a0a icon"></image></view> <view class="_div data-v-71681a0a name">
              å›¾ç‰‡
            </view></view> <view class="_div data-v-71681a0a block" bindtap="handleProxy" data-eventid="{{'22'}}" data-comkey="{{$k}}"><view class="_div data-v-71681a0a image"><image src="/static/images/photo.png" class="_image data-v-71681a0a icon"></image></view> <view class="_div data-v-71681a0a name">
              æ‹ç…§
            </view></view> <view class="_div data-v-71681a0a block" bindtap="handleProxy" data-eventid="{{'23'}}" data-comkey="{{$k}}"><view class="_div data-v-71681a0a image"><image src="/static/images/video.png" class="_image data-v-71681a0a icon"></image></view> <view class="_div data-v-71681a0a name">
              è§†é¢‘
            </view></view> <view class="_div data-v-71681a0a block" bindtap="handleProxy" data-eventid="{{'24'}}" data-comkey="{{$k}}"><view class="_div data-v-71681a0a image"><image src="/static/images/dice.png" class="_image data-v-71681a0a icon"></image></view> <view class="_div data-v-71681a0a name">
              è¯„åˆ†
            </view></view></view> <view class="_div data-v-71681a0a images"><view class="_div data-v-71681a0a block" bindtap="handleProxy" data-eventid="{{'25'}}" data-comkey="{{$k}}"><view class="_div data-v-71681a0a image"><image src="/static/images/define.png" class="_image data-v-71681a0a icon"></image></view> <view class="_div data-v-71681a0a name">
              è‡ªå®šä¹‰
            </view></view> <view class="_div data-v-71681a0a block" bindtap="handleProxy" wx:if="{{currentConversationType === 'C2C'}}" data-eventid="{{'26'}}" data-comkey="{{$k}}"><view class="_div data-v-71681a0a image"><image src="/static/images/video-call.png" class="_image data-v-71681a0a icon"></image></view> <view class="_div data-v-71681a0a name">
              è§†é¢‘é€šè¯
            </view></view></view></view></view></view></template>