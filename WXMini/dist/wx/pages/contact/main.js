require("../../common/manifest.js")
require("../../debug/GenerateTestUserSig.js")
require("../../common/vendor.js")
global.webpackJsonpMpvue([14],{P61V:function(t,i,a){"use strict";i.a={data:function(){return{search:"",friends:[],addModalVisible:!1,addUserId:"",applyModalVisible:!1,result:{}}},components:{},methods:{handleApply:function(){var t=this;wx.$app.joinGroup({groupID:this.result.groupID,type:this.result.type}).then(function(i){"JoinedSuccess"===i.data.status?(t.$store.commit("showToast",{title:"加群成功"}),t.search=""):t.$store.commit("showToast",{title:"申请成功，等待群管理员确认"}),t.handleApplyModal()}).catch(function(){t.$store.commit("showToast",{title:"加群失败"})})},handleApplyModal:function(){this.applyModalVisible=!this.applyModalVisible},confirm:function(){var t=this;"@TIM#SYSTEM"!==this.search?wx.$app.searchGroupByID(this.search).then(function(i){t.result=i.data.group,t.handleApplyModal()}).catch(function(){t.search="",t.$store.commit("showToast",{title:"没有搜到群组"})}):this.$store.commit("showToast",{title:"没有搜到群组"})},initFriendsList:function(){var t=this;wx.$app.getFriendList({fromAccount:this.$store.state.user.userProfile.to}).then(function(i){t.friends=i.data})},toBlacklist:function(){wx.navigateTo({url:"../blacklist/main"})},toGroupList:function(){wx.navigateTo({url:"../groups/main"})},startConversation:function(){wx.navigateTo({url:"../friend/main"})},handleModalShow:function(){this.addModalVisible=!this.addModalVisible},createGroup:function(){wx.navigateTo({url:"../create/main"})},chatTo:function(t){var i=this,a=this.TIM.TYPES.CONV_C2C+t.userID;wx.$app.getConversationProfile(a).then(function(t){i.$store.commit("updateCurrentConversation",t.data.conversation),i.$store.state.conversation.currentMessageList=[],i.$store.dispatch("getMessageList",a),i.content="",i.id="";var s="../chat/main?toAccount="+t.data.conversation.userProfile.nick;wx.navigateTo({url:s})}).catch(function(){i.$store.commit("showToast",{title:"获取会话信息失败"})})}},mounted:function(){}}},WXOj:function(t,i,a){"use strict";var s={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"container"},[a("i-modal",{attrs:{title:"提示",visible:t.applyModalVisible,eventid:"0",mpcomid:"0"},on:{ok:t.handleApply,cancel:t.handleApplyModal}},[a("div",{staticClass:"input-wrapper"},[t._v("\n        确定要加入群"+t._s(t.search)+"吗？\n      ")])]),t._v(" "),a("div",{staticClass:"methods"},[a("div",{staticClass:"search-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy:value",value:t.search,expression:"search",modifiers:{"lazy:value":!0}}],staticClass:"search",attrs:{type:"text",placeholder:"输入群ID进行搜索","confirm-type":"search",eventid:"1"},domProps:{value:t.search},on:{confirm:function(i){t.confirm()},input:function(i){i.target.composing||(t.search=i.target.value)}}})]),t._v(" "),a("div",{staticClass:"item",attrs:{eventid:"2"},on:{click:function(i){t.startConversation()}}},[a("i-row",{attrs:{mpcomid:"4"}},[a("i-col",{attrs:{span:"4",mpcomid:"2"}},[a("div",{staticStyle:{padding:"10px"}},[a("i-avatar",{attrs:{shape:"square",size:"large",src:"../../../static/images/start.png",mpcomid:"1"}})],1)]),t._v(" "),a("i-col",{attrs:{span:"20",mpcomid:"3"}},[a("div",{staticClass:"right border-bottom"},[a("div",{staticClass:"information"},[t._v("发起会话")])])])],1)],1),t._v(" "),a("div",{staticClass:"item",attrs:{eventid:"3"},on:{click:function(i){t.createGroup()}}},[a("i-row",{attrs:{mpcomid:"8"}},[a("i-col",{attrs:{span:"4",mpcomid:"6"}},[a("div",{staticStyle:{padding:"10px"}},[a("i-avatar",{attrs:{shape:"square",size:"large",src:"../../../static/images/group.png",mpcomid:"5"}})],1)]),t._v(" "),a("i-col",{attrs:{span:"20",mpcomid:"7"}},[a("div",{staticClass:"right border-bottom"},[a("div",{staticClass:"information"},[t._v("新建群聊")])])])],1)],1),t._v(" "),a("div",{staticClass:"item",attrs:{eventid:"4"},on:{click:function(i){t.toBlacklist()}}},[a("i-row",{attrs:{mpcomid:"12"}},[a("i-col",{attrs:{span:"4",mpcomid:"10"}},[a("div",{staticStyle:{padding:"10px"}},[a("i-avatar",{attrs:{shape:"square",size:"large",src:"../../../static/images/blacklist.png",mpcomid:"9"}})],1)]),t._v(" "),a("i-col",{attrs:{span:"20",mpcomid:"11"}},[a("div",{staticClass:"right"},[a("div",{staticClass:"information border-bottom"},[t._v("黑名单")])])])],1)],1),t._v(" "),a("div",{staticClass:"item",attrs:{eventid:"5"},on:{click:function(i){t.toGroupList()}}},[a("i-row",{staticStyle:{"border-bottom":"1px solid #e9eaec"},attrs:{mpcomid:"16"}},[a("i-col",{attrs:{span:"4",mpcomid:"14"}},[a("div",{staticStyle:{padding:"10px"}},[a("i-avatar",{attrs:{shape:"square",size:"large",src:"../../../static/images/contact.png",mpcomid:"13"}})],1)]),t._v(" "),a("i-col",{attrs:{span:"20",mpcomid:"15"}},[a("div",{staticClass:"right"},[a("div",{staticClass:"information  border-bottom"},[t._v("我的群聊")])])])],1)],1)])],1)},staticRenderFns:[]};i.a=s},"Wd/3":function(t,i){},hYiP:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a("5nAL"),e=a.n(s),o=a("xLcW");new e.a(o.a).$mount()},xLcW:function(t,i,a){"use strict";var s=a("P61V"),e=a("WXOj");var o=function(t){a("Wd/3")},n=a("ybqe")(s.a,e.a,o,"data-v-c7e80b78",null);i.a=n.exports}},["hYiP"]);